<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>第五章 抽象工厂模式</title>
</head>
<body>
    <script>
       /**
        **@抽象工厂模式
       **/
       var VehicleFactory=function(subType,superType){
             //判断抽象工厂中是否有该抽象类
             if(typeof VehicleFactory[superType] ==='function' ){
                 //缓存类
                  function F(){};
                 //继承父类属性和方法
                  F.prototype=new VehicleFactory[superType]();
                 //将子类constructor指向子类
                  subType.constructor=subType;
                //子类原型继承父类
                 subType.prototype=new F();
             }else{
                 new Error('未创建该抽象类');
             }
       }
       //小汽车抽象类
       VehicleFactory.car=function(){
           this.type='car';
       }
       VehicleFactory.car.prototype={
           getPrice:function(){
               return new Error('抽象方法不能调用');
           },
           getSpeed:function(){
               return new Error('抽象方法不能调用');
           }
       }

       //如何使用
         var BMW=function(price,speed){
             this.price=price;
             this.speed=speed;
         }
         //抽象工厂实现对Car类的继承
        VehicleFactory(BMW,'Car');
        BMW.prototype.getPrice=function(){
            return this.price;
        }
    </script>
</body>
</html>