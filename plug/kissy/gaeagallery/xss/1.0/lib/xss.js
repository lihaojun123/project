KISSY.add("gaeagallery/xss/1.0/lib/xss",function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){}function e(){}function f(){}function g(){}function h(a){return a.replace(y,"&lt;").replace(z,"&gt;")}function i(a,b,c,d){if(d=d||x,c=o(c),"href"===b||"src"===b){if(c=v.trim(c),"#"===c)return"#";if("http://"!==c.substr(0,7)&&"https://"!==c.substr(0,8)&&"mailto:"!==c.substr(0,7)&&"/"!==c[0])return""}else if("background"===b){if(F.lastIndex=0,F.test(c))return""}else if("style"===b){if(G.lastIndex=0,G.test(c))return"";if(H.lastIndex=0,H.test(c)&&(F.lastIndex=0,F.test(c)))return"";c=d.process(c)}return c=p(c)}function j(a){return a.replace(A,"&quot;")}function k(a){return a.replace(B,'"')}function l(a){return a.replace(C,function(a,b){return String.fromCharCode("x"===b[0]||"X"===b[0]?parseInt(b.substr(1),16):parseInt(b,10))})}function m(a){return a.replace(D,":").replace(E," ")}function n(a){for(var b="",c=0,d=a.length;d>c;c++)b+=a.charCodeAt(c)<32?" ":a.charAt(c);return v.trim(b)}function o(a){return a=k(a),a=l(a),a=m(a),a=n(a)}function p(a){return a=j(a),a=h(a)}function q(){return""}function r(a,b){function c(b){return d?!0:-1!==v.indexOf(a,b)}"function"!=typeof b&&(b=function(){});var d=!Array.isArray(a),e=[],f=!1;return{onIgnoreTag:function(a,d,g){if(c(a)){if(g.isClosing){var h="[/removed]",i=g.position+h.length;return e.push([f!==!1?f:g.position,i]),f=!1,h}return f||(f=g.position),"[removed]"}return b(a,d,g)},remove:function(a){var b="",c=0;return v.forEach(e,function(d){b+=a.slice(c,d[0]),c=d[1]}),b+=a.slice(c)}}}function s(a){return a.replace(I,"")}function t(a){var b=a.split("");return b=b.filter(function(a){var b=a.charCodeAt(0);return 127===b?!1:31>=b?10===b||13===b?!0:!1:!0}),b.join("")}var u=a("cssfilter").FilterCSS,v=a("./util"),w={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},x=new u,y=/</g,z=/>/g,A=/"/g,B=/&quot;/g,C=/&#([a-zA-Z0-9]*);?/gim,D=/&colon;?/gim,E=/&newline;?/gim,F=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,G=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,H=/u\s*r\s*l\s*\(.*/gi,I=/<!--[\s\S]*?-->/g;c.whiteList=w,c.onTag=d,c.onIgnoreTag=e,c.onTagAttr=f,c.onIgnoreTagAttr=g,c.safeAttrValue=i,c.escapeHtml=h,c.escapeQuote=j,c.unescapeQuote=k,c.escapeHtmlEntities=l,c.escapeDangerHtml5Entities=m,c.clearNonPrintableCharacter=n,c.friendlyAttrValue=o,c.escapeAttrValue=p,c.onIgnoreTagStripAll=q,c.StripTagBody=r,c.stripCommentTag=s,c.stripBlankChar=t,c.cssFilter=x},{"./util":4,cssfilter:8}],2:[function(a,b,c){function d(a,b){var c=new g(b);return c.process(a)}var e=a("./default"),f=a("./parser"),g=a("./xss");c=b.exports=d,c.FilterXSS=g;for(var h in e)c[h]=e[h];for(var h in f)c[h]=f[h];"function"==typeof define&&define.amd&&define(function(){return b.exports}),"undefined"!=typeof window&&(window.filterXSS=b.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(a,b,c){function d(a){var b=a.indexOf(" ");if(-1===b)var c=a.slice(1,-1);else var c=a.slice(1,b+1);return c=l.trim(c).toLowerCase(),"/"===c.slice(0,1)&&(c=c.slice(1)),"/"===c.slice(-1)&&(c=c.slice(0,-1)),c}function e(a){return"</"===a.slice(0,2)}function f(a,b,c){"user strict";var f="",g=0,h=!1,i=!1,j=0,k=a.length,l="",m="";for(j=0;k>j;j++){var n=a.charAt(j);if(h===!1){if("<"===n){h=j;continue}}else if(i===!1){if("<"===n){f+=c(a.slice(g,j)),h=j,g=j;continue}if(">"===n){f+=c(a.slice(g,h)),l=a.slice(h,j+1),m=d(l),f+=b(h,f.length,m,l,e(l)),g=j+1,h=!1;continue}if('"'===n||"'"===n){i=n;continue}}else if(n===i){i=!1;continue}}return g<a.length&&(f+=c(a.substr(g))),f}function g(a,b){"user strict";function c(a,c){if(a=l.trim(a),a=a.replace(m,"").toLowerCase(),!(a.length<1)){var d=b(a,c||"");d&&e.push(d)}}for(var d=0,e=[],f=!1,g=a.length,j=0;g>j;j++){var n,o,p=a.charAt(j);if(f!==!1||"="!==p)if(f===!1||j!==d||'"'!==p&&"'"!==p)if(" "!==p);else{if(f===!1){if(o=h(a,j),-1===o){n=l.trim(a.slice(d,j)),c(n),f=!1,d=j+1;continue}j=o-1;continue}if(o=i(a,j-1),-1===o){n=l.trim(a.slice(d,j)),n=k(n),c(f,n),f=!1,d=j+1;continue}}else{if(o=a.indexOf(p,j+1),-1===o)break;n=l.trim(a.slice(d+1,o)),c(f,n),f=!1,j=o,d=j+1}else f=a.slice(d,j),d=j+1}return d<a.length&&(f===!1?c(a.slice(d)):c(f,k(l.trim(a.slice(d))))),l.trim(e.join(" "))}function h(a,b){for(;b<a.length;b++){var c=a[b];if(" "!==c)return"="===c?b:-1}}function i(a,b){for(;b>0;b--){var c=a[b];if(" "!==c)return"="===c?b:-1}}function j(a){return'"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1]?!0:!1}function k(a){return j(a)?a.substr(1,a.length-2):a}var l=a("./util"),m=/[^a-zA-Z0-9_:\.\-]/gim;c.parseTag=f,c.parseAttr=g},{"./util":4}],4:[function(a,b){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach)return a.forEach(b,c);for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(a,b){function c(a){return void 0===a||null===a}function d(a){var b=a.indexOf(" ");if(-1===b)return{html:"",closing:"/"===a[a.length-2]};a=k.trim(a.slice(b+1,-1));var c="/"===a[a.length-1];return c&&(a=k.trim(a.slice(0,-1))),{html:a,closing:c}}function e(a){a=a||{},a.stripIgnoreTag&&(a.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),a.onIgnoreTag=g.onIgnoreTagStripAll),a.whiteList=a.whiteList||g.whiteList,a.onTag=a.onTag||g.onTag,a.onTagAttr=a.onTagAttr||g.onTagAttr,a.onIgnoreTag=a.onIgnoreTag||g.onIgnoreTag,a.onIgnoreTagAttr=a.onIgnoreTagAttr||g.onIgnoreTagAttr,a.safeAttrValue=a.safeAttrValue||g.safeAttrValue,a.escapeHtml=a.escapeHtml||g.escapeHtml,a.css=a.css||{},this.options=a,this.cssFilter=new f(a.css)}var f=a("cssfilter").FilterCSS,g=a("./default"),h=a("./parser"),i=h.parseTag,j=h.parseAttr,k=a("./util");e.prototype.process=function(a){if(a=a||"",a=a.toString(),!a)return"";var b=this,e=b.options,f=e.whiteList,h=e.onTag,l=e.onIgnoreTag,m=e.onTagAttr,n=e.onIgnoreTagAttr,o=e.safeAttrValue,p=e.escapeHtml,q=b.cssFilter;if(e.stripBlankChar&&(a=g.stripBlankChar(a)),e.allowCommentTag||(a=g.stripCommentTag(a)),e.stripIgnoreTagBody){var r=g.StripTagBody(e.stripIgnoreTagBody,l);l=r.onIgnoreTag}else r=!1;var s=i(a,function(a,b,e,g,i){var r={sourcePosition:a,position:b,isClosing:i,isWhite:e in f},s=h(e,g,r);if(!c(s))return s;if(r.isWhite){if(r.isClosing)return"</"+e+">";var t=d(g),u=f[e],v=j(t.html,function(a,b){var d=-1!==k.indexOf(u,a),f=m(e,a,b,d);if(!c(f))return f;if(d)return b=o(e,a,b,q),b?a+'="'+b+'"':a;var f=n(e,a,b,d);return c(f)?void 0:f}),g="<"+e;return v&&(g+=" "+v),t.closing&&(g+=" /"),g+=">"}var s=l(e,g,r);return c(s)?p(g):s},p);return r&&(s=r.remove(s)),s},b.exports=e},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(a,b){function c(a){return void 0===a||null===a}function d(a){a=a||{},a.whiteList=a.whiteList||e.whiteList,a.onAttr=a.onAttr||e.onAttr,a.onIgnoreAttr=a.onIgnoreAttr||e.onIgnoreAttr,this.options=a}{var e=a("./default"),f=a("./parser");a("./util")}d.prototype.process=function(a){if(a=a||"",a=a.toString(),!a)return"";var b=this,d=b.options,e=d.whiteList,g=d.onAttr,h=d.onIgnoreAttr,i=f(a,function(a,b,d,f,i){var j=e[d],k=!1;j===!0?k=j:"function"==typeof j?k=j(f):j instanceof RegExp&&(k=j.test(f)),k!==!0&&(k=!1);var l={position:b,sourcePosition:a,source:i,isWhite:k};if(k){var m=g(d,f,l);return c(m)?d+":"+f:m}var m=h(d,f,l);return c(m)?void 0:m});return i},b.exports=d},{"./default":7,"./parser":9,"./util":10}],7:[function(a,b,c){function d(){}function e(){}var f={};f["align-content"]=!1,f["align-items"]=!1,f["align-self"]=!1,f["alignment-adjust"]=!1,f["alignment-baseline"]=!1,f.all=!1,f["anchor-point"]=!1,f.animation=!1,f["animation-delay"]=!1,f["animation-direction"]=!1,f["animation-duration"]=!1,f["animation-fill-mode"]=!1,f["animation-iteration-count"]=!1,f["animation-name"]=!1,f["animation-play-state"]=!1,f["animation-timing-function"]=!1,f.azimuth=!1,f["backface-visibility"]=!1,f.background=!0,f["background-attachment"]=!0,f["background-clip"]=!0,f["background-color"]=!0,f["background-image"]=!0,f["background-origin"]=!0,f["background-position"]=!0,f["background-repeat"]=!0,f["background-size"]=!0,f["baseline-shift"]=!1,f.binding=!1,f.bleed=!1,f["bookmark-label"]=!1,f["bookmark-level"]=!1,f["bookmark-state"]=!1,f.border=!0,f["border-bottom"]=!0,f["border-bottom-color"]=!0,f["border-bottom-left-radius"]=!0,f["border-bottom-right-radius"]=!0,f["border-bottom-style"]=!0,f["border-bottom-width"]=!0,f["border-collapse"]=!0,f["border-color"]=!0,f["border-image"]=!0,f["border-image-outset"]=!0,f["border-image-repeat"]=!0,f["border-image-slice"]=!0,f["border-image-source"]=!0,f["border-image-width"]=!0,f["border-left"]=!0,f["border-left-color"]=!0,f["border-left-style"]=!0,f["border-left-width"]=!0,f["border-radius"]=!0,f["border-right"]=!0,f["border-right-color"]=!0,f["border-right-style"]=!0,f["border-right-width"]=!0,f["border-spacing"]=!0,f["border-style"]=!0,f["border-top"]=!0,f["border-top-color"]=!0,f["border-top-left-radius"]=!0,f["border-top-right-radius"]=!0,f["border-top-style"]=!0,f["border-top-width"]=!0,f["border-width"]=!0,f.bottom=!1,f["box-decoration-break"]=!0,f["box-shadow"]=!0,f["box-sizing"]=!0,f["box-snap"]=!0,f["box-suppress"]=!0,f["break-after"]=!0,f["break-before"]=!0,f["break-inside"]=!0,f["caption-side"]=!1,f.chains=!1,f.clear=!0,f.clip=!1,f["clip-path"]=!1,f["clip-rule"]=!1,f.color=!0,f["color-interpolation-filters"]=!0,f["column-count"]=!1,f["column-fill"]=!1,f["column-gap"]=!1,f["column-rule"]=!1,f["column-rule-color"]=!1,f["column-rule-style"]=!1,f["column-rule-width"]=!1,f["column-span"]=!1,f["column-width"]=!1,f.columns=!1,f.contain=!1,f.content=!1,f["counter-increment"]=!1,f["counter-reset"]=!1,f["counter-set"]=!1,f.crop=!1,f.cue=!1,f["cue-after"]=!1,f["cue-before"]=!1,f.cursor=!1,f.direction=!1,f.display=!0,f["display-inside"]=!0,f["display-list"]=!0,f["display-outside"]=!0,f["dominant-baseline"]=!1,f.elevation=!1,f["empty-cells"]=!1,f.filter=!1,f.flex=!1,f["flex-basis"]=!1,f["flex-direction"]=!1,f["flex-flow"]=!1,f["flex-grow"]=!1,f["flex-shrink"]=!1,f["flex-wrap"]=!1,f["float"]=!1,f["float-offset"]=!1,f["flood-color"]=!1,f["flood-opacity"]=!1,f["flow-from"]=!1,f["flow-into"]=!1,f.font=!0,f["font-family"]=!0,f["font-feature-settings"]=!0,f["font-kerning"]=!0,f["font-language-override"]=!0,f["font-size"]=!0,f["font-size-adjust"]=!0,f["font-stretch"]=!0,f["font-style"]=!0,f["font-synthesis"]=!0,f["font-variant"]=!0,f["font-variant-alternates"]=!0,f["font-variant-caps"]=!0,f["font-variant-east-asian"]=!0,f["font-variant-ligatures"]=!0,f["font-variant-numeric"]=!0,f["font-variant-position"]=!0,f["font-weight"]=!0,f.grid=!1,f["grid-area"]=!1,f["grid-auto-columns"]=!1,f["grid-auto-flow"]=!1,f["grid-auto-rows"]=!1,f["grid-column"]=!1,f["grid-column-end"]=!1,f["grid-column-start"]=!1,f["grid-row"]=!1,f["grid-row-end"]=!1,f["grid-row-start"]=!1,f["grid-template"]=!1,f["grid-template-areas"]=!1,f["grid-template-columns"]=!1,f["grid-template-rows"]=!1,f["hanging-punctuation"]=!1,f.height=!0,f.hyphens=!1,f.icon=!1,f["image-orientation"]=!1,f["image-resolution"]=!1,f["ime-mode"]=!1,f["initial-letters"]=!1,f["inline-box-align"]=!1,f["justify-content"]=!1,f["justify-items"]=!1,f["justify-self"]=!1,f.left=!1,f["letter-spacing"]=!0,f["lighting-color"]=!0,f["line-box-contain"]=!1,f["line-break"]=!1,f["line-grid"]=!1,f["line-height"]=!1,f["line-snap"]=!1,f["line-stacking"]=!1,f["line-stacking-ruby"]=!1,f["line-stacking-shift"]=!1,f["line-stacking-strategy"]=!1,f["list-style"]=!0,f["list-style-image"]=!0,f["list-style-position"]=!0,f["list-style-type"]=!0,f.margin=!0,f["margin-bottom"]=!0,f["margin-left"]=!0,f["margin-right"]=!0,f["margin-top"]=!0,f["marker-offset"]=!1,f["marker-side"]=!1,f.marks=!1,f.mask=!1,f["mask-box"]=!1,f["mask-box-outset"]=!1,f["mask-box-repeat"]=!1,f["mask-box-slice"]=!1,f["mask-box-source"]=!1,f["mask-box-width"]=!1,f["mask-clip"]=!1,f["mask-image"]=!1,f["mask-origin"]=!1,f["mask-position"]=!1,f["mask-repeat"]=!1,f["mask-size"]=!1,f["mask-source-type"]=!1,f["mask-type"]=!1,f["max-height"]=!0,f["max-lines"]=!1,f["max-width"]=!0,f["min-height"]=!0,f["min-width"]=!0,f["move-to"]=!1,f["nav-down"]=!1,f["nav-index"]=!1,f["nav-left"]=!1,f["nav-right"]=!1,f["nav-up"]=!1,f["object-fit"]=!1,f["object-position"]=!1,f.opacity=!1,f.order=!1,f.orphans=!1,f.outline=!1,f["outline-color"]=!1,f["outline-offset"]=!1,f["outline-style"]=!1,f["outline-width"]=!1,f.overflow=!1,f["overflow-wrap"]=!1,f["overflow-x"]=!1,f["overflow-y"]=!1,f.padding=!0,f["padding-bottom"]=!0,f["padding-left"]=!0,f["padding-right"]=!0,f["padding-top"]=!0,f.page=!1,f["page-break-after"]=!1,f["page-break-before"]=!1,f["page-break-inside"]=!1,f["page-policy"]=!1,f.pause=!1,f["pause-after"]=!1,f["pause-before"]=!1,f.perspective=!1,f["perspective-origin"]=!1,f.pitch=!1,f["pitch-range"]=!1,f["play-during"]=!1,f.position=!1,f["presentation-level"]=!1,f.quotes=!1,f["region-fragment"]=!1,f.resize=!1,f.rest=!1,f["rest-after"]=!1,f["rest-before"]=!1,f.richness=!1,f.right=!1,f.rotation=!1,f["rotation-point"]=!1,f["ruby-align"]=!1,f["ruby-merge"]=!1,f["ruby-position"]=!1,f["shape-image-threshold"]=!1,f["shape-outside"]=!1,f["shape-margin"]=!1,f.size=!1,f.speak=!1,f["speak-as"]=!1,f["speak-header"]=!1,f["speak-numeral"]=!1,f["speak-punctuation"]=!1,f["speech-rate"]=!1,f.stress=!1,f["string-set"]=!1,f["tab-size"]=!1,f["table-layout"]=!1,f["text-align"]=!0,f["text-align-last"]=!0,f["text-combine-upright"]=!0,f["text-decoration"]=!0,f["text-decoration-color"]=!0,f["text-decoration-line"]=!0,f["text-decoration-skip"]=!0,f["text-decoration-style"]=!0,f["text-emphasis"]=!0,f["text-emphasis-color"]=!0,f["text-emphasis-position"]=!0,f["text-emphasis-style"]=!0,f["text-height"]=!0,f["text-indent"]=!0,f["text-justify"]=!0,f["text-orientation"]=!0,f["text-overflow"]=!0,f["text-shadow"]=!0,f["text-space-collapse"]=!0,f["text-transform"]=!0,f["text-underline-position"]=!0,f["text-wrap"]=!0,f.top=!1,f.transform=!1,f["transform-origin"]=!1,f["transform-style"]=!1,f.transition=!1,f["transition-delay"]=!1,f["transition-duration"]=!1,f["transition-property"]=!1,f["transition-timing-function"]=!1,f["unicode-bidi"]=!1,f["vertical-align"]=!1,f.visibility=!1,f["voice-balance"]=!1,f["voice-duration"]=!1,f["voice-family"]=!1,f["voice-pitch"]=!1,f["voice-range"]=!1,f["voice-rate"]=!1,f["voice-stress"]=!1,f["voice-volume"]=!1,f.volume=!1,f["white-space"]=!1,f.widows=!1,f.width=!0,f["will-change"]=!1,f["word-break"]=!0,f["word-spacing"]=!0,f["word-wrap"]=!0,f["wrap-flow"]=!1,f["wrap-through"]=!1,f["writing-mode"]=!1,f["z-index"]=!1,c.whiteList=f,c.onAttr=d,c.onIgnoreAttr=e},{}],8:[function(a,b,c){function d(a,b){var c=new f(b);return c.process(a)}var e=a("./default"),f=a("./css");c=b.exports=d,c.FilterCSS=f;for(var g in e)c[g]=e[g];"function"==typeof define&&define.amd&&define(function(){return b.exports}),"undefined"!=typeof window&&(window.filterCSS=b.exports)},{"./css":6,"./default":7}],9:[function(a,b){function c(a,b){function c(){if(!f){var c=d.trim(a.slice(g,h)),e=c.indexOf(":");if(-1!==e){var j=d.trim(c.slice(0,e)),k=d.trim(c.slice(e+1));if(j){var l=b(g,i.length,j,k,c);l&&(i+=l+"; ")}}}g=h+1}a=d.trimRight(a),";"!==a[a.length-1]&&(a+=";");for(var e=a.length,f=!1,g=0,h=0,i="";e>h;h++){var j=a[h];if("/"===j&&"*"===a[h+1]){var k=a.indexOf("*/",h+2);if(-1===k)break;h=k+1,g=h+1,f=!1}else"("===j?f=!0:")"===j?f=!1:";"===j?f||c():"\n"===j&&c()}return d.trim(i)}var d=a("./util");b.exports=c},{"./util":10}],10:[function(a,b){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach)return a.forEach(b,c);for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(a){return String.prototype.trimRight?a.trimRight():a.replace(/(\s*$)/g,"")}}},{}]},{},[2]),filterXSS});