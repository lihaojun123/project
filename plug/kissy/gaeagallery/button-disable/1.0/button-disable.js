KISSY.add("gaeagallery/button-disable/1.0/button-disable",function(a,b){function c(a,b){return a===b||a.toString()===b}function d(a,c){var f=this,g=b.one(document);this.isKeyDis=null,this.isElemProt=null,"undefined"!=typeof a&&null!==a&&("undefined"!=typeof c&&(f.isElemProt=e.yoroshi(c)),g.on("keydown",function(b){f.isKeyDis=e.kinki(b,a)})),"function"!=typeof this.disableBack&&(d.prototype.disableBack=function(){if("object"!=typeof window.History&&"function"!=typeof window.History)throw"could not find jquery.history";var a=0,b=History.getState().url,c=document.location.hash,d=b.length;-1!==b.indexOf("#")&&(d=b.indexOf("#"));for(var e=b.substring(0,d);5>a;)History.pushState({flag:a++},null,e);""!==c&&(document.location.hash=c),History.Adapter.bind(window,"statechange",function(){History.forward()})})}var e=this;return this.kinki=function(b,d){if(a.isArray(d)){for(var e in d)if(d.hasOwnProperty(e)&&c(b.keyCode,d[e])){b.halt();break}return!0}return"number"==typeof d&&b.keyCode===d?(console.log(b.keyCode),b.halt(),!0):"string"==typeof d&&b.keyCode.toString()===d?(b.halt(),!0):!1},this.yoroshi=function(c){function d(a){a.stopPropagation()}if(a.isArray(c)){for(var e in c)c.hasOwnProperty(e)&&b.all(document).delegate("keydown",c[e],d);return!0}return"string"==typeof c?(b.all(document).delegate("keydown",c,d),!0):!1},d},{requires:["node"]});